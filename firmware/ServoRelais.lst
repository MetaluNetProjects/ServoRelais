gplink-1.4.0 #1107 (May 18 2015)
Copyright (c) 1998-2014 gputils project
Listing File Generated: 11-12-2020  18:01:51
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; File Created by SDCC : free open source ANSI-C Compiler
                                           ; Version 3.6.9 #10186 (Linux)
                                           ;--------------------------------------------------------
                                           ; PIC port for the 14-bit core
                                           ;--------------------------------------------------------
                                           ;	.file	"main.c"
                                           	list	p=10f322
                                           	radix dec
                                           	include "p10f322.inc"
                                                   LIST
                                           
                                           ;==========================================================================
                                           ; Build date : Aug 07 2014
                                           ;  MPASM PIC10F322 processor include
                                           ; 
                                           ;  (c) Copyright 1999-2014 Microchip Technology, All rights reserved
                                           ;==========================================================================
                                           
                                                   NOLIST
                                           ;--------------------------------------------------------
                                           ; config word(s)
                                           ;--------------------------------------------------------
002007   3fe0     addlw   0xe0             	__config 0x3fe0
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_STATUSbits
                                           	extern	_PORTAbits
                                           	extern	_TRISAbits
                                           	extern	_LATAbits
                                           	extern	_ANSELAbits
                                           	extern	_WPUAbits
                                           	extern	_PCLATHbits
                                           	extern	_INTCONbits
                                           	extern	_PIR1bits
                                           	extern	_PIE1bits
                                           	extern	_OPTION_REGbits
                                           	extern	_PCONbits
                                           	extern	_OSCCONbits
                                           	extern	_T2CONbits
                                           	extern	_PWM1DCLbits
                                           	extern	_PWM1DCHbits
                                           	extern	_PWM1CONbits
                                           	extern	_PWM1CON0bits
                                           	extern	_PWM2DCLbits
                                           	extern	_PWM2DCHbits
                                           	extern	_PWM2CONbits
                                           	extern	_PWM2CON0bits
                                           	extern	_IOCAPbits
                                           	extern	_IOCANbits
                                           	extern	_IOCAFbits
                                           	extern	_FVRCONbits
                                           	extern	_ADCONbits
                                           	extern	_PMADRHbits
                                           	extern	_PMCON1bits
                                           	extern	_CLKRCONbits
                                           	extern	_NCO1ACCLbits
                                           	extern	_NCO1ACCHbits
                                           	extern	_NCO1ACCUbits
                                           	extern	_NCO1INCLbits
                                           	extern	_NCO1INCHbits
                                           	extern	_NCO1CONbits
                                           	extern	_NCO1CLKbits
                                           	extern	_WDTCONbits
                                           	extern	_CLC1CONbits
                                           	extern	_CLC1SEL0bits
                                           	extern	_CLC1SEL1bits
                                           	extern	_CLC1POLbits
                                           	extern	_CLC1GLS0bits
                                           	extern	_CLC1GLS1bits
                                           	extern	_CLC1GLS2bits
                                           	extern	_CLC1GLS3bits
                                           	extern	_CWG1CON0bits
                                           	extern	_CWG1CON1bits
                                           	extern	_CWG1CON2bits
                                           	extern	_CWG1DBRbits
                                           	extern	_CWG1DBFbits
                                           	extern	_VREGCONbits
                                           	extern	_BORCONbits
                                           	extern	_INDF
                                           	extern	_TMR0
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_PORTA
                                           	extern	_TRISA
                                           	extern	_LATA
                                           	extern	_ANSELA
                                           	extern	_WPUA
                                           	extern	_PCLATH
                                           	extern	_INTCON
                                           	extern	_PIR1
                                           	extern	_PIE1
                                           	extern	_OPTION_REG
                                           	extern	_PCON
                                           	extern	_OSCCON
                                           	extern	_TMR2
                                           	extern	_PR2
                                           	extern	_T2CON
                                           	extern	_PWM1DCL
                                           	extern	_PWM1DCH
                                           	extern	_PWM1CON
                                           	extern	_PWM1CON0
                                           	extern	_PWM2DCL
                                           	extern	_PWM2DCH
                                           	extern	_PWM2CON
                                           	extern	_PWM2CON0
                                           	extern	_IOCAP
                                           	extern	_IOCAN
                                           	extern	_IOCAF
                                           	extern	_FVRCON
                                           	extern	_ADRES
                                           	extern	_ADCON
                                           	extern	_PMADR
                                           	extern	_PMADRL
                                           	extern	_PMADRH
                                           	extern	_PMDAT
                                           	extern	_PMDATL
                                           	extern	_PMDATH
                                           	extern	_PMCON1
                                           	extern	_PMCON2
                                           	extern	_CLKRCON
                                           	extern	_NCO1ACC
                                           	extern	_NCO1ACCL
                                           	extern	_NCO1ACCH
                                           	extern	_NCO1ACCU
                                           	extern	_NCO1INC
                                           	extern	_NCO1INCL
                                           	extern	_NCO1INCH
                                           	extern	_NCO1INCU
                                           	extern	_NCO1CON
                                           	extern	_NCO1CLK
                                           	extern	_WDTCON
                                           	extern	_CLC1CON
                                           	extern	_CLC1SEL0
                                           	extern	_CLC1SEL1
                                           	extern	_CLC1POL
                                           	extern	_CLC1GLS0
                                           	extern	_CLC1GLS1
                                           	extern	_CLC1GLS2
                                           	extern	_CLC1GLS3
                                           	extern	_CWG1CON0
                                           	extern	_CWG1CON1
                                           	extern	_CWG1CON2
                                           	extern	_CWG1DBR
                                           	extern	_CWG1DBF
                                           	extern	_VREGCON
                                           	extern	_BORCON
                                           	extern	__sdcc_gsinit_startup
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_main
                                           	global	_configPin
                                           	global	_offCount
                                           	global	_onCount
                                           	global	_debounce
                                           
                                           	global PSAVE
                                           	global SSAVE
                                           	global WSAVE
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0040
                                           PSAVE	res 1
                                           SSAVE	res 1
                                           WSAVE	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_main_0	udata
                                           _configPin	res	1
                                           
                                           UD_main_1	udata
                                           _offCount	res	2
                                           
                                           UD_main_2	udata
                                           _onCount	res	1
                                           
                                           UD_main_3	udata
                                           _debounce	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_main_0	udata
                                           r0x1005	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   0000     nop                      	nop
                                           	pagesel __sdcc_gsinit_startup
000001   2802     goto    0x0002           	goto	__sdcc_gsinit_startup
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_main	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x1005
                                           ;; Starting pCode block
                                           S_main__main	code
                                           _main:
                                           ; 2 exit points
                                           ;	.line	16; "main.c"	NOT_WPUEN = 0; // activate pullups
00009e   138e     bcf     0x0e, 0x7        	BCF	_OPTION_REGbits,7
                                           ;	.line	17; "main.c"	TRISA0 = 1;
00009f   1406     bsf     0x06, 0x0        	BSF	_TRISAbits,0
                                           ;	.line	18; "main.c"	LATA1 = 0;
0000a0   1087     bcf     0x07, 0x1        	BCF	_LATAbits,1
                                           ;	.line	19; "main.c"	TRISA1 = 0;
0000a1   1086     bcf     0x06, 0x1        	BCF	_TRISAbits,1
                                           ;	.line	20; "main.c"	TRISA2 = 1;
0000a2   1506     bsf     0x06, 0x2        	BSF	_TRISAbits,2
                                           ;	.line	22; "main.c"	OSCCONbits.IRCF = 0b101; // 4MHz
0000a3   3010     movlw   0x10             	MOVLW	(_OSCCONbits + 0)
0000a4   398f     andlw   0x8f             	ANDLW	0x8f
0000a5   3850     iorlw   0x50             	IORLW	0x50
0000a6   0090     movwf   0x10             	MOVWF	(_OSCCONbits + 0)
                                           ;	.line	24; "main.c"	configPin = RA2;
0000a7   01d9     clrf    0x59             	CLRF	r0x1005
0000a8   1905     btfsc   0x05, 0x2        	BTFSC	_PORTAbits,2
0000a9   0ad9     incf    0x59, 0x1        	INCF	r0x1005,F
0000aa   0859     movf    0x59, 0x0        	MOVF	r0x1005,W
0000ab   00d6     movwf   0x56             	MOVWF	_configPin
                                           _00134_DS_:
                                           ;	.line	27; "main.c"	offCount = 0;
0000ac   01d4     clrf    0x54             	CLRF	_offCount
0000ad   01d5     clrf    0x55             	CLRF	(_offCount + 1)
                                           _00108_DS_:
                                           ;	.line	28; "main.c"	while(!RA0) {
0000ae   1805     btfsc   0x05, 0x0        	BTFSC	_PORTAbits,0
0000af   28be     goto    0x00be           	GOTO	_00110_DS_
                                           ;;unsigned compare: left < lit(0x9C4=2500), size=2
                                           ;	.line	29; "main.c"	if(offCount < INACTIVE_TIME) offCount++; // 15 instructions (see main.lst)
0000b0   3009     movlw   0x09             	MOVLW	0x09
0000b1   0255     subwf   0x55, 0x0        	SUBWF	(_offCount + 1),W
0000b2   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000b3   28b6     goto    0x00b6           	GOTO	_00180_DS_
0000b4   30c4     movlw   0xc4             	MOVLW	0xc4
0000b5   0254     subwf   0x54, 0x0        	SUBWF	_offCount,W
                                           _00180_DS_:
0000b6   1803     btfsc   0x03, 0x0        	BTFSC	STATUS,0
0000b7   28bc     goto    0x00bc           	GOTO	_00106_DS_
                                           ;;genSkipc:3257: created from rifx:0x7ffd765861d0
0000b8   0ad4     incf    0x54, 0x1        	INCF	_offCount,F
0000b9   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
0000ba   0ad5     incf    0x55, 0x1        	INCF	(_offCount + 1),F
0000bb   28ae     goto    0x00ae           	GOTO	_00108_DS_
                                           _00106_DS_:
                                           ;	.line	30; "main.c"	else LATA1 = 0; // switch off if inactive too long
0000bc   1087     bcf     0x07, 0x1        	BCF	_LATAbits,1
0000bd   28ae     goto    0x00ae           	GOTO	_00108_DS_
                                           _00110_DS_:
                                           ;	.line	32; "main.c"	onCount = 0;
0000be   01d7     clrf    0x57             	CLRF	_onCount
                                           _00113_DS_:
                                           ;	.line	33; "main.c"	while(RA0) {
0000bf   1c05     btfss   0x05, 0x0        	BTFSS	_PORTAbits,0
0000c0   28c7     goto    0x00c7           	GOTO	_00115_DS_
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           ;	.line	34; "main.c"	if(onCount < 255) onCount++; // 9 instructions (see main.lst)
0000c1   30ff     movlw   0xff             	MOVLW	0xff
0000c2   0257     subwf   0x57, 0x0        	SUBWF	_onCount,W
0000c3   1803     btfsc   0x03, 0x0        	BTFSC	STATUS,0
0000c4   28bf     goto    0x00bf           	GOTO	_00113_DS_
                                           ;;genSkipc:3257: created from rifx:0x7ffd765861d0
0000c5   0ad7     incf    0x57, 0x1        	INCF	_onCount,F
0000c6   28bf     goto    0x00bf           	GOTO	_00113_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xA7=167), size=1
                                           _00115_DS_:
                                           ;	.line	36; "main.c"	if(onCount > PULSETHRES) {
0000c7   30a7     movlw   0xa7             	MOVLW	0xa7
0000c8   0257     subwf   0x57, 0x0        	SUBWF	_onCount,W
0000c9   1c03     btfss   0x03, 0x0        	BTFSS	STATUS,0
0000ca   28db     goto    0x00db           	GOTO	_00131_DS_
                                           ;;genSkipc:3257: created from rifx:0x7ffd765861d0
                                           ;;unsigned compare: left < lit(0x5=5), size=1
                                           ;	.line	37; "main.c"	if(debounce < DEBOUNCE_MAX) debounce++;
0000cb   3005     movlw   0x05             	MOVLW	0x05
                                           ;	.line	38; "main.c"	if(debounce == DEBOUNCE_MAX) {
0000cc   0258     subwf   0x58, 0x0        	SUBWF	_debounce,W
0000cd   1c03     btfss   0x03, 0x0        	BTFSS	STATUS,0
0000ce   0ad8     incf    0x58, 0x1        	INCF	_debounce,F
0000cf   0858     movf    0x58, 0x0        	MOVF	_debounce,W
0000d0   3a05     xorlw   0x05             	XORLW	0x05
0000d1   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000d2   28ac     goto    0x00ac           	GOTO	_00134_DS_
                                           ;	.line	39; "main.c"	if(configPin) LATA1 = 1;
0000d3   3000     movlw   0x00             	MOVLW	0x00
0000d4   0456     iorwf   0x56, 0x0        	IORWF	_configPin,W
0000d5   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
0000d6   28d9     goto    0x00d9           	GOTO	_00119_DS_
0000d7   1487     bsf     0x07, 0x1        	BSF	_LATAbits,1
0000d8   28ac     goto    0x00ac           	GOTO	_00134_DS_
                                           _00119_DS_:
                                           ;	.line	40; "main.c"	else LATA1 = 0;
0000d9   1087     bcf     0x07, 0x1        	BCF	_LATAbits,1
0000da   28ac     goto    0x00ac           	GOTO	_00134_DS_
                                           _00131_DS_:
                                           ;	.line	43; "main.c"	if(debounce > 0) debounce--;
0000db   3000     movlw   0x00             	MOVLW	0x00
                                           ;	.line	44; "main.c"	if(debounce == 0) {
0000dc   0458     iorwf   0x58, 0x0        	IORWF	_debounce,W
0000dd   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000de   03d8     decf    0x58, 0x1        	DECF	_debounce,F
0000df   3000     movlw   0x00             	MOVLW	0x00
0000e0   0458     iorwf   0x58, 0x0        	IORWF	_debounce,W
0000e1   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000e2   28ac     goto    0x00ac           	GOTO	_00134_DS_
                                           ;	.line	45; "main.c"	if(configPin) LATA1 = 0;
0000e3   3000     movlw   0x00             	MOVLW	0x00
0000e4   0456     iorwf   0x56, 0x0        	IORWF	_configPin,W
0000e5   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
0000e6   28e9     goto    0x00e9           	GOTO	_00126_DS_
0000e7   1087     bcf     0x07, 0x1        	BCF	_LATAbits,1
0000e8   28ac     goto    0x00ac           	GOTO	_00134_DS_
                                           _00126_DS_:
                                           ;	.line	46; "main.c"	else LATA1 = 1;
0000e9   1487     bsf     0x07, 0x1        	BSF	_LATAbits,1
0000ea   28ac     goto    0x00ac           	GOTO	_00134_DS_
                                           ;	.line	50; "main.c"	}
0000eb   0008     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           
                                           ;	code size estimation:
                                           ;	   78+    0 =    78 instructions (  156 byte)
                                           
                                           	end
